---
layout: post
title: "pwnable.kr fd"
date: 2018-05-19 
description: "pwnable.kr"
tag: pwn Writeup pwnable.kr
---

直接连上`ssh fd@pwnable.kr -p2222 (pw:guest)`，然后`ls`看一下有什么文件。

![img_1](/images/posts/pwnable.kr_fd/img_1.png)

这个题直接给了源码，`cat`出来看看。

![img_2](/images/posts/pwnable.kr_fd/img_2.png)

有源码可以知道这题主要考察`read()`函数的使用。`read()`的功能是把参数fd 所指的文件传送count个字节到buf指针所指的内存中。

`ssize_t read(int fd,void * buf ,size_t count);`

我们能控制的是`fd`参数，下面给出linux的文件描述符。

| Integer value | Name | file stream |
| ------------- | ---- | ----------- |
| 0 | 标准输入 | stdin |
| 1 | 标准输出 | stdout |
| 2 | 标准错误 | stderr |

为了使`buf`的值由我们键盘输入，我们只需要保证`fd`参数的值为的值为`标准输入`(`0`)就行了。

`0x1234`的十进制值为`4660`，所以我们传的第一个参数为`4660`。最后再按着流程输入`LETMEWIN`就ok了。

![img_3](/images/posts/pwnable.kr_fd/img_3.png)

Get flag: `mommy! I think I know what a file descriptor is!!`